{% extends 'father.html' %}

{% load static %}

{% block titleBlock %}

<title>Lista de Empleados</title>

{% endblock titleBlock %}

{% block randomBlock %}
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('{% static 'assets/img/herramientas-banner.jpg' %}')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <h1><strong><center>Lista de Empleados</center></strong></h1>
                    <form action= "{% url 'buscarEmpleado' %}" method="GET" enctype="multipart/form-data">{% csrf_token %}

                        <p>Busqueda: <input type= "text" name= "nombre" placeholder="Escriba aqui el empleado"> <input type="submit" value="Buscar"></p>                      
                         
                     </form>
                    <table>
                        <tr>
                            <th scope="col">Foto</th>  
                            <th scope="col">Nombre</th>
                            <th scope="col">Edad</th>
                            <th scope="col">email</th>      
                            <th scope="col">Telefono</th>    
                            <th scope="col">Puesto</th>
                            <th scope="col">Salario</th>
                            <th scope="col">Opciones</th>          
                        </tr>                   
                            <ul>
                            
                                {% for empleado in empleados  %}
                            
                                <tr>
                                    <td>
                                    <img src="{{empleado.foto_empleado.url}}" width="100" height="100"> 
                                    </td>
                                    <td>{{empleado.nombre}}</td>
                                    <td>{{empleado.edad}}</td> 
                                    <td>{{empleado.email}}</td>
                                    <td>{{empleado.telefono}}</td> 
                                    <td>{{empleado.puesto}}</td>
                                    <td>{{empleado.salario}}</td>
                                    <td>
                                        <form action= "{% url 'eliminarEmpleado' empleado.id %}" method="POST" enctype="multipart/form-data">{% csrf_token %}
                                            <button type="submit">Eliminar</button>
                                        <button>
                                            <a href="{% url 'editarEmpleado' empleado.id %}">Editar</a> 
                                        </button>

                                    </td>                              
                                </tr>                           
                                {% endfor %}   
                                                   
                            </ul>                                                  
                    </table>
                    <a href="{% url 'formEmpleado' %}">AÃ±ade Empleado</a> 
                </div>
            </div>
        </article>
        
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
{% endblock randomBlock %}