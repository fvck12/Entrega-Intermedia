{% extends 'father.html' %}

{% load static %}

{% block titleBlock %}

<title>Busqueda de Empleado</title>

{% endblock titleBlock %}

{% block randomBlock %}
        <!-- Page Header-->
        <header class="masthead" style="background-image: url('{% static 'assets/img/herramientas-banner.jpg' %}')">
            <div class="container position-relative px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <div class="col-md-10 col-lg-8 col-xl-7">
                        
                    </div>
                </div>
            </div>
        </header>
        <!-- Post Content-->
        <article class="mb-4">
            <div class="container px-4 px-lg-5">
                <div class="row gx-4 gx-lg-5 justify-content-center">
                    <h1><strong><center>Busqueda de empleados</center></strong></h1>
                        <form method="GET" enctype="multipart/form-data">{% csrf_token %}
                            <p>Busqueda: <input type= "text" name= "nombre" placeholder="Escriba aqui el empleado">
                                <input type="submit" value="Buscar"></p>                      
                        </form>
                        <p>Estamos buscando el empleado: <strong>{{request.GET.nombre}}</strong></p>
                        <table>
                            <tr>
                                <th scope="col">Foto</th>
                                <th scope="col">Nombre</th>
                                <th scope="col">Apellido</th>
                                <th scope="col">Fecha de Nacimiento</th>
                                <th scope="col">DNI</th>
                                <th scope="col">email</th>    
                                <th scope="col">Direccion</th>    
                                <th scope="col">Telefono</th>    
                                <th scope="col">Puesto</th>
                            </tr>
                            {% if object_list %}
                                <ul>    
                                    {% for empleado in object_list %}
                                        <tr>
                                            <td>
                                                {% if  empleado.foto_empleado %}
                                                    <img src="{{empleado.foto_empleado.url}}" width="100" height="100">
                                                {% endif %}
                                            </td>
                                            <td>{{empleado.nombre}}</td>
                                            <td>{{empleado.apellido}}</td>
                                            <td>{{empleado.fecha_nacimiento}}</td> 
                                            <td>{{empleado.dni}}</td> 
                                            <td>{{empleado.email}}</td> 
                                            <td>{{empleado.direccion}}</td> 
                                            <td>{{empleado.telefono}}</td> 
                                            <td>{{empleado.puesto}}</td>                               
                                        </tr>
                                    {% endfor %}  
                                </ul>
                            {% else %}
                                <p>No hubo coincidencias para <strong>{{request.GET.nombre}}</strong></p>
                            {% endif %}
                        </table>
                </div>
            </div>
        </article>
        <!-- Bootstrap core JS-->
        <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.1.3/dist/js/bootstrap.bundle.min.js"></script>
        <!-- Core theme JS-->
        <script src="js/scripts.js"></script>
    </body>
</html>
{% endblock randomBlock %}